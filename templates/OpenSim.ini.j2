;
; ansible_managed
;


[Const]


    BaseHostname = "127.0.0.1"
    BaseURL = http://${Const|BaseHostname}


    PublicPort = "{{ os_public_port }}"
    PrivURL = ${Const|BaseURL}
    PrivatePort = "{{ os_private_port }}"

[Startup]

    PIDFile = "/tmp/OpenSim.exe.pid"
    ; RegistryLocation = "."


    ConfigDirectory = "/home/{{ admin_user }}/{{ conf_dir }}"
    regionload_regionsdir="/home/{{ admin_user}}/{{ conf_dir }}/Regions"


    ; NonPhysicalPrimMin = 0.001
    ; NonPhysicalPrimMax = 256
    ; PhysicalPrimMin = 0.01
    ; PhysicalPrimMax = 64
    ; ClampPrimSize = false
    ; LinksetPrims = 0
    ; AllowScriptCrossing = true
    ; TrustBinaries = false


    ; InworldRestartShutsDown = false

    ; MinimumTimeBeforePersistenceConsidered = 60
    ; MaximumTimeBeforePersistenceConsidered = 600



    physics = BulletSim


[AccessControl]



[Map]

    ; GenerateMaptiles = true

    ;MapImageModule = "MapImageModule"

    ; MaptileRefresh = 0
    ; MaptileStaticUUID = "00000000-0000-0000-0000-000000000000"
    ; DrawPrimOnMapTile = true
    ; TexturePrims = true
    ; TexturePrimSize = 48
    ; RenderMeshes = false
    ; MapColorWater = "#3399FF"
    ; MapColor1 = "#A58976"
    ; MapColor2 = "#455931"
    ; MapColor3 = "#A29A8D"
    ; MapColor4 = "#C8C8C8"


[Permissions]

    ; permissionmodules = DefaultPermissionsModule

    ; serverside_object_permissions = true

    automatic_gods = false
    implicit_gods = false

    allow_grid_gods = true

    ; region_owner_is_god = true
    ; region_manager_is_god = false
    ; simple_build_permissions = false


[Estates]


    ; DefaultEstateName = My Estate
    ; DefaultEstateOwnerName = FirstName LastName
    ; DefaultEstateOwnerUUID = 00000000-0000-0000-0000-000000000000
    ; DefaultEstateOwnerEMail = owner@domain.com
    ; DefaultEstateOwnerPassword = password

[SMTP]

    ; enabled = false

    ; host_domain_header_from = "127.0.0.1"
    ; email_pause_time = 20
    ; email_max_size = 4096
    ; SMTP_SERVER_HOSTNAME = "127.0.0.1"
    ; SMTP_SERVER_PORT = 25
    ; SMTP_SERVER_LOGIN = ""
    ; SMTP_SERVER_PASSWORD = ""

[Network]

    ; ConsoleUser = "Test"
    ;# {ConsolePass} {} {Password for console account} {}
    ; ConsolePass = "secret"
    ;# {console_port} {} {Port for console connections} {} 0
    ; console_port = 0


    ; http_listener_port = 9000
    ;http_listener_ssl = false
    ;http_listener_sslport = 9001 ;
    ;http_listener_cn = "myRegionsExternalHostName"
    ;http_listener_cert_path = "mycert.p12"
    ;http_listener_cert_pass = "mycertpass" ; the cert passwork


    ; OutboundDisallowForUserScriptsExcept = 192.168.1.3:8003
    ; OutboundDisallowForUserScriptsExcept = 192.168.1.3:8003|myinternalserver:8000
    ; OutboundDisallowForUserScriptsExcept = 192.168.1.0/24
    ; OutboundDisallowForUserScriptsExcept = 192.168.1.2/32

    ; HttpBodyMaxLenMAX=16384

    ;; if not defined - llRequestURL/llRequestSecureURL are disabled
    ExternalHostNameForLSL = ${Const|BaseHostname}

    shard = "OpenSim"

    ; user_agent = "OpenSim LSL (Mozilla Compatible)"

    ; AuthType = "BasicHttpAuthentication"
    ; HttpAuthUsername = "some_username"
    ; HttpAuthPassword = "some_password"

[XMLRPC]

    ;XmlRpcRouterModule = "XmlRpcRouterModule"
    ;XmlRpcPort = 20800
    ; XmlRpcHubURI = http://example.com


[ClientStack.LindenUDP]

    ; DisableFacelights = "false"


[ClientStack.LindenCaps]

    Cap_GetTexture = "localhost"
    Cap_GetMesh = "localhost"
    Cap_AvatarPickerSearch = "localhost"
    Cap_GetDisplayNames = "localhost"


[SimulatorFeatures]

    ;SearchServerURI = "http://127.0.0.1:9000/"
    ;DestinationGuideURI = "http://127.0.0.1:9000/guide"


[Chat]

    ; whisper_distance = 10
    ; say_distance = 20
    ; shout_distance = 100


[EntityTransfer]

    ;DisableInterRegionTeleportCancellation = false
    ;LandingPointBehavior = LandingPointBehavior_OS

[Messaging]

    ; OfflineMessageModule = OfflineMessageModule
    ; OfflineMessageModule = "Offline Message Module V2"

    ; OfflineMessageURL = ${Const|BaseURL}/Offline.php
    ; OfflineMessageURL = ${Const|BaseURL}:${Const|PrivatePort}

    ; StorageProvider = OpenSim.Data.MySQL.dll


    ; MuteListModule = MuteListModule
    ; ForwardOfflineGroupMessages = true


[BulletSim]

    AvatarToAvatarCollisionsByDefault = true


[ODEPhysicsSettings]

    ; mesh_sculpted_prim = true

[RemoteAdmin]

{% if remote_admin_access == true %}
      enabled = true
      access_password = {{ access_password }}

    port = {{ remote_admin_port }}

    access_ip_addresses = {{ remote_controllers }}

    ; create_region_enable_voice = false
    ; create_region_public = false

    enabled_methods = all

    default_male = Default Male
    default_female = Default Female

    copy_folders = false
    default_appearance = default_appearance.xml
{% else %}
    enabled = False
{% endif %}


[Wind]

    ; enabled = true
    ; wind_update_rate = 150
    ; wind_plugin = SimpleRandomWind

    ; avg_strength = 5.0
    ; avg_direction = 0.0
    ; var_strength = 5.0
    ; var_direction = 30.0
    ; rate_change = 1.0
    ; strength = 1.0


[LightShare]

    ; enable_windlight = false


[Materials]

    ; enable_materials = true
    ; MaxMaterialsPerTransaction = 50

[DataSnapshot]

    ; index_sims = false
    ; data_exposure = minimum


    gridname = "{{ gridname }}"

    ; default_snapshot_period = 1200
    ; snapshot_cache_directory = "DataSnapshot"


    ;; New way of specifying data services, one per service
    ;DATA_SRV_MISearch = "http://metaverseink.com/cgi-bin/register.py"

[Economy]

    ; economymodule = BetaGridLikeMoneyModule
    ; economy = https://the.currency.machine.fdqn:port/folder/folder...
    ; SellEnabled = true
    ; PriceUpload = 0
    ; PriceGroupCreate = 0

[YEngine]

    ; Enabled = false


[XEngine]

    ; Enabled = true

    ; MinThreads = 2
    ; MaxThreads = 100
    ; IdleTimeout = 60
    ; MinTimerInterval = 0.5
    ; Priority = "BelowNormal"
    ; MaxScriptEventQueue = 300
    ; ThreadStackSize = 262144


    AppDomainLoading = false

    ; ScriptStopStrategy = co-op
    ; DeleteScriptsOnStartup = true
    ;CompactMemOnLoad = false
    ; CompileWithDebugInformation = true

    ; ==== Settings for MOD and OSSL functions have been moved to the [OSSL] section

    ; EventLimit = 30
    ; KillTimedOutScripts = false
    ; ScriptDelayFactor = 1.0
    ; ScriptDistanceLimitFactor = 1.0


    ; NotecardLineReadCharsMax = 255

    ; SensorMaxRange = 96.0
    ; SensorMaxResults = 16

    ; DisableUndergroundMovement = true

    ; ScriptEnginesPath = "ScriptEngines"

[OSSL]

    Include-osslDefaultEnable = "config-include/osslDefaultEnable.ini"


[FreeSwitchVoice]

    ; Enabled = false

    ; LocalServiceModule = OpenSim.Services.FreeswitchService.dll:FreeswitchService
    ; LocalServiceModule = OpenSim.Services.Connectors.dll:RemoteFreeswitchConnector
    ; FreeswitchServiceURL = http://my.grid.server:8004/fsapi

{% if vivox == true %}
[VivoxVoice]

    Enabled = true

    vivox_server = {{ vivox_server }}
    vivox_sip_uri = {{ vivox_sip_uri }}
    vivox_admin_user = {{ vivox_admin_user }}
    vivox_admin_password = {{ vivox_admin_password }}
{% endif %}


[Groups]

    ; Enabled = false

    ; LevelGroupCreate = 0

    ; Module = Default
    ; Module = "Groups Module V2"

    ; StorageProvider = OpenSim.Data.MySQL.dll

    ; ServicesConnectorModule = XmlRpcGroupsServicesConnector

    ; LocalService = local
    ; SecretKey = ""

    ; GroupsServerURI = ""

    ; HomeURI = ""
    ; MessagingEnabled = true
    ; MessagingModule = "Groups Messaging Module V2"
    ; NoticesEnabled = true

    ; MessageOnlineUsersOnly = false

    ; DebugEnabled = false
    ; DebugMessagingEnabled = false

    ; XmlRpcServiceReadKey    = 1234
    ; XmlRpcServiceWriteKey   = 1234


[InterestManagement]

     ; UpdatePrioritizationScheme = BestAvatarResponsiveness

    ; ObjectsCullingByDistance = false

[MediaOnAPrim]

    ; Enabled = true


[NPC]

    ; Enabled = false


    ; AllowNotOwned = true
    ; AllowSenseAsAvatar = true
    ; AllowCloneOtherAvatars = true
    ; NoNPCGroup = true


[Terrain]

    ; InitialTerrain = "pinhead-island"

[LandManagement]

    ;ShowParcelBansLines = true

[UserProfiles]

  ;; ProfileServiceURL = ${Const|BaseURL}:${Const|PublicPort}
  ; AllowUserProfileWebURLs = true

[XBakes]

  ;; URL = ${Const|BaseURL}:${Const|PrivatePort}



[Architecture]

{% if gridmode == 'grid' %}
    Include-Architecture = "/home/{{ admin_user }}/{{ conf_dir }}/config-include/Grid.ini"
{% endif %}

{% if gridmode == 'hypergrid' %}
    Include-Architecture = "/home/{{ admin_user }}/{{ conf_dir }}/config-include/GridHypergrid.ini"
{% endif %}
